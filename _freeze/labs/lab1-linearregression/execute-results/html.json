{
  "hash": "355732c864e87a24a8f52b33b847ee11",
  "result": {
    "markdown": "---\ntitle: \"Lab 1: Linear regression\"\nauthor: \"Author\"\nformat:\n  html:\n    code-tools: true\neditor: visual\n---\n\n\n## General Instructions\n\nLabs will begin with loading necessary packages (for R users). If this is the first time using these packages, they will need to be installed prior to being loaded.\n\nLab instructions follow in numbered steps. In general, you will need to add code (Insert... Code Cell... R), run it to obtain output, and provide an interpretation of the results. It is not enough to provide output without interpretation.\n\nWe will cover Parts 1 and 2 in one day. Part 3 will be revisited after we have covered more of the simple linear regression notes.\n\n## Learning objectives\n\n1.  Be able to fit and interpret frequentist and Bayesian simple linear regression models\n2.  Compare the results to those that would be obtained using a 2-sample t-test\n3.  Compare the results of robust versus classical standard error estimates for the frequentist approach\n\n## Load R packages\n\nLoad the following packages for use in this lab.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rms)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: Hmisc\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: lattice\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: survival\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: Formula\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: ggplot2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'Hmisc'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked _by_ '.GlobalEnv':\n\n    knitrSet\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    format.pval, units\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: SparseM\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'SparseM'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:base':\n\n    backsolve\n```\n:::\n\n```{.r .cell-code}\nlibrary(rstanarm)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: Rcpp\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThis is rstanarm version 2.26.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n- See https://mc-stan.org/rstanarm/articles/priors for changes to default priors!\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n- Default priors may change, so it's safest to specify priors, even if equivalent to the defaults.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n- For execution on a local, multicore CPU with excess RAM we recommend calling\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n  options(mc.cores = parallel::detectCores())\n```\n:::\n:::\n\n\n### 1. Read in dataset\n\nWe will be using the inflammation dataset. Full [documentation](https://biostat.app.vumc.org/wiki/pub/Main/CourseBios312/inflamm.pdf) is available\n\nThe data is available as [tab delimited](https://biostat.app.vumc.org/wiki/pub/Main/CourseBios312/inflamm.txt) or [Stata format](https://biostat.app.vumc.org/wiki/pub/Main/CourseBios312/inflamm.dta)\n\n### 2. Perform basic descriptive statistics for variables of interest\n\nWe will only be considering the three variables: age, male, and bmi\n\n-   Male is coded as 0 for female and 1 for male. Create a factor variable (R) or label (Stata) this variable accordingly\n\n## Part 1: BMI and gender (classical standard error estimate)\n\n### 1. Create and describe a plot of BMI by gender\n\n### 2. Fit a simple linear regression model of BMI (outcome) on gender (predictor) using a frequentist approach\n\n### 3. Conduct an (equal-variance) t-test of BMI by gender. Compare to the output of the linear regression model\n\n### 4. Fit a Bayesian linear regression model of BMI (outcome) on gender (predictor).  Use the default priors.\n\n## Part 2: BMI and age\n\n### 1. Create and describe a plot of BMI by age\n\n### 2. Fit a simple linear regression model of BMI (outcome) on age (predictor) using a frequentist approach\n\n### 3.  Interpret the slope and corresponding 95% confidence interval\n\n### 4. What is the estimate association for a 5-year increase in age?  A 10-year increase in age?  Give the confidence interval for each.\n\n### 5. Fit a similar Bayesian linear regression model and interpret the results.\n\n## Part 3: BMI and gender, robust standard error\n\nWe will complete this part after covering robust standard errors in the notes\n\n### 1.  Fit a regression using the robust standard error estimate.  Compare the results from this regression model to a t-test assuming unequal variance between group.\n",
    "supporting": [
      "lab1-linearregression_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}